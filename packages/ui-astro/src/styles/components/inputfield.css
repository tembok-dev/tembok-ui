/* =========================================================
   @tembok/ui-react — InputField (dual-scope, CSS-only)
   ========================================================= */

/* Wrapper: vertical field layout */
:where(.tmbk-theme .tmbk-field, .tmbk-field.tmbk-theme) {
  display: flex;
  flex-direction: column;
  gap: 0.25rem; /* ~ gap-1 */
}

/* Label */
:where(.tmbk-theme .tmbk-field-label, .tmbk-field-label.tmbk-theme) {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem; /* text-xs */
  font-weight: 500;
  color: var(--tmbk-fg-muted, #4b5563); /* ~ neutral-700 */
}

:where(.tmbk-theme .tmbk-field-label-required, .tmbk-field-label-required.tmbk-theme) {
  color: var(--tmbk-danger, #ef4444);
}

/* Control wrapper (for positioning dropdown) */
:where(.tmbk-theme .tmbk-field-control, .tmbk-field-control.tmbk-theme) {
  position: relative;
}

/* Base input */
:where(.tmbk-theme .tmbk-input, .tmbk-input.tmbk-theme) {
  --field-bg: var(--tmbk-input-bg, #ffffff);
  --field-fg: var(--tmbk-input-fg, #111827);
  --field-bd: var(--tmbk-input-border, #d1d5db); /* neutral-300 */
  --field-placeholder: var(--tmbk-input-placeholder, #9ca3af); /* neutral-400 */
  --field-ring: var(--tmbk-ring, rgba(14, 165, 233, 0.4)); /* sky-500/40 */

  display: block;
  width: 100%;
  border-radius: 0.5rem; /* rounded-lg */
  border-width: 1px;
  border-style: solid;
  border-color: var(--field-bd);
  padding: 0.5rem 0.75rem; /* py-2 px-3 */
  font-size: 0.875rem; /* text-sm */
  background-color: var(--field-bg);
  color: var(--field-fg);
  outline: none;
  transition:
    border-color 0.15s ease,
    box-shadow 0.15s ease,
    background-color 0.15s ease,
    color 0.15s ease,
    filter 0.15s ease;
}

/* Placeholder */
:where(.tmbk-theme .tmbk-input::placeholder, .tmbk-input.tmbk-theme::placeholder) {
  color: var(--field-placeholder);
}

/* Hover default (no error, no disabled) */
:where(.tmbk-theme .tmbk-input:not(.tmbk-input--error):not(.tmbk-input--disabled):hover,
       .tmbk-input.tmbk-theme:not(.tmbk-input--error):not(.tmbk-input--disabled):hover) {
  border-color: color-mix(in oklab, var(--field-bd) 60%, var(--tmbk-fg, #111827) 40%);
}

/* Focus ring (non-error) */
:where(.tmbk-theme .tmbk-input--focused,
       .tmbk-input.tmbk-theme.tmbk-input--focused,
       .tmbk-theme .tmbk-input:focus-visible,
       .tmbk-input.tmbk-theme:focus-visible) {
  border-color: var(--tmbk-primary, #0ea5e9);
  box-shadow: 0 0 0 2px var(--field-ring);
}

/* Disabled */
:where(.tmbk-theme .tmbk-input--disabled,
       .tmbk-input.tmbk-theme.tmbk-input--disabled,
       .tmbk-theme .tmbk-input:disabled,
       .tmbk-input.tmbk-theme:disabled) {
  cursor: not-allowed;
  opacity: 0.6;
  background-color: var(--tmbk-input-disabled-bg, #f3f4f6); /* neutral-100 */
  border-color: var(--tmbk-input-disabled-border, #e5e7eb); /* neutral-200 */
  color: var(--tmbk-input-disabled-fg, #6b7280); /* neutral-500 */
  box-shadow: none;
}

/* Error state */
:where(.tmbk-theme .tmbk-input--error,
       .tmbk-input.tmbk-theme.tmbk-input--error) {
  --field-bg: #ffffff;
  --field-fg: #7f1d1d; /* red-900-ish */
  --field-bd: #ef4444; /* red-500 */
  --field-placeholder: #fca5a5; /* red-300/400 hybrid */
  border-color: var(--field-bd);
  color: var(--field-fg);
}

/* Error + focus ring */
:where(.tmbk-theme .tmbk-input--error.tmbk-input--focused,
       .tmbk-input.tmbk-theme.tmbk-input--error.tmbk-input--focused) {
  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.4); /* red-500/40 */
}

/* Description text */
:where(.tmbk-theme .tmbk-field-description, .tmbk-field-description.tmbk-theme) {
  font-size: 0.6875rem; /* 11px */
  line-height: 1.3;
  color: var(--tmbk-fg-subtle, #6b7280); /* neutral-500 */
}

/* Error text */
:where(.tmbk-theme .tmbk-field-error, .tmbk-field-error.tmbk-theme) {
  font-size: 0.6875rem;
  line-height: 1.3;
  color: var(--tmbk-danger, #dc2626); /* red-600 */
}

/* =========================================================
   Suggestions dropdown (was Tailwind)
   ========================================================= */

:where(.tmbk-theme .tmbk-suggest-dropdown, .tmbk-suggest-dropdown.tmbk-theme) {
  position: absolute;
  inset-inline: 0; /* left-0 right-0 */
  z-index: 30;
  margin-top: 0.25rem; /* mt-1 */
  border-radius: 0.5rem;
  border: 1px solid var(--tmbk-border-subtle, #e5e7eb); /* neutral-200 */
  background-color: var(--tmbk-surface, #ffffff);
  box-shadow:
    0 10px 15px -3px rgba(15, 23, 42, 0.2),
    0 4px 6px -4px rgba(15, 23, 42, 0.15); /* nice panel shadow */
  max-height: 14rem; /* max-h-56 */
  overflow: auto;
  font-size: 0.875rem; /* text-sm */
}

/* Loading + empty states */
:where(.tmbk-theme .tmbk-suggest-loading,
       .tmbk-suggest-loading.tmbk-theme,
       .tmbk-theme .tmbk-suggest-empty,
       .tmbk-suggest-empty.tmbk-theme) {
  padding: 0.5rem 0.75rem; /* px-3 py-2 */
  font-size: 0.75rem; /* text-xs */
  color: var(--tmbk-fg-subtle, #9ca3af); /* neutral-400/500 */
}

/* Suggestion row */
:where(.tmbk-theme .tmbk-suggest-row, .tmbk-suggest-row.tmbk-theme) {
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 0.75rem; /* px-3 py-2 */
  text-align: left;
  font-size: 0.75rem; /* text-xs */
  background: transparent;
  border: 0;
  color: var(--tmbk-fg, #111827);
  cursor: pointer;
}

/* Inactive hover */
:where(.tmbk-theme .tmbk-suggest-row:not([data-active="true"]),
       .tmbk-suggest-row.tmbk-theme:not([data-active="true"])):hover {
  background-color: color-mix(in oklab, var(--tmbk-fg, #0f172a) 3%, transparent);
}

/* Active row */
:where(.tmbk-theme .tmbk-suggest-row[data-active="true"],
       .tmbk-suggest-row.tmbk-theme[data-active="true"]) {
  background-color: color-mix(in oklab, var(--tmbk-primary, #0ea5e9) 8%, #f0f9ff);
  color: color-mix(in oklab, var(--tmbk-primary, #0ea5e9) 70%, #0f172a);
}

/* Usage badge (small right text) */
:where(.tmbk-theme .tmbk-suggest-usage, .tmbk-suggest-usage.tmbk-theme) {
  font-size: 0.625rem; /* 10px */
  color: var(--tmbk-fg-subtle, #9ca3af);
}

/* "Create new" row (border-top) */
:where(.tmbk-theme .tmbk-suggest-row--create, .tmbk-suggest-row--create.tmbk-theme) {
  border-top: 1px solid color-mix(in oklab, var(--tmbk-primary, #0ea5e9) 15%, #e0f2fe);
  color: color-mix(in oklab, var(--tmbk-primary, #0ea5e9) 80%, #0f172a);
}

/* Pill with the term "…” */
:where(.tmbk-theme .tmbk-suggest-pill, .tmbk-suggest-pill.tmbk-theme) {
  margin-inline: 0.25rem;
  border-radius: 0.25rem;
  padding: 0.125rem 0.25rem;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.6875rem;
  background-color: color-mix(in oklab, var(--tmbk-primary, #0ea5e9) 10%, #f0f9ff);
  color: color-mix(in oklab, var(--tmbk-primary, #0ea5e9) 75%, #0f172a);
}

/* Helper line "Nueva opción..." */
:where(.tmbk-theme .tmbk-suggest-helper, .tmbk-suggest-helper.tmbk-theme) {
  font-size: 0.625rem;
  color: color-mix(in oklab, var(--tmbk-primary, #0ea5e9) 70%, #0284c7);
}
