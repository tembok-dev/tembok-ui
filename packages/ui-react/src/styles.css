/* 1) Tokens base */
.tmbk-theme {
  --tmbk-bg: #fafafa;
  --tmbk-bg-dark: #e4e4e7;
  --tmbk-bg-light: #ffffff;
  --tmbk-bg-fg: #292929;
  --tmbk-bg-invert: #050505;

  --tmbk-fg: #292929;
  --tmbk-fg-dark: #1a1a1a;
  --tmbk-fg-light: #808080;
  --tmbk-fg-muted: #808080;
  --tmbk-fg-fg: #fafafa;
  --tmbk-fg-invert: #fafafa;

  --tmbk-primary: #5AEDEA;
  --tmbk-primary-dark: #12CFCC;
  --tmbk-primary-light: #D0F6F5;
  --tmbk-primary-fg: #292929;
  --tmbk-primary-invert: #0c7ee2;

  --tmbk-secondary: #39383f;
  --tmbk-secondary-dark: #1d1d20;
  --tmbk-secondary-light: #777581;
  --tmbk-secondary-fg: #ffffff;
  --tmbk-secondary-invert: #c6c7c0;

  --tmbk-success: #10b981; --tmbk-success-fg: #ffffff;
  --tmbk-warning: #f59e0b; --tmbk-warning-fg: #1a1a1a;
  --tmbk-info:    #3b82f6; --tmbk-info-fg:    #ffffff;
  --tmbk-danger:  #ef4444; --tmbk-danger-fg:  #ffffff;

  --tmbk-border: rgba(41,41,41,.15);
  --tmbk-ring: rgba(90,237,234,.35);

  --tmbk-brand-red:  #c31f39; --tmbk-brand-red-fg:  #ffffff;
  --tmbk-brand-cyan: #00ffff; --tmbk-brand-cyan-fg: #1a1a1a;
  --tmbk-brand-lime: #c5e836; --tmbk-brand-lime-fg: #1a1a1a;
  --tmbk-brand-ink:  #1a2332; --tmbk-brand-ink-fg:  #ffffff;

  /* (Opcional) pista para formularios/scrollbars */
  color-scheme: light dark;
}

/* 2) Dark (opt-in) */
.dark .tmbk-theme,
[data-theme="dark"] .tmbk-theme {
  --tmbk-bg: #0a0a0a;
  --tmbk-bg-dark: #050505;
  --tmbk-bg-light: #1a1a1a;
  --tmbk-bg-fg: #f5f5f5;
  --tmbk-bg-invert: #fafafa;

  --tmbk-fg: #f5f5f5;
  --tmbk-fg-dark: #ffffff;
  --tmbk-fg-light: #a3a3a3;
  --tmbk-fg-muted: #a3a3a3;
  --tmbk-fg-fg: #0a0a0a;
  --tmbk-fg-invert: #0a0a0a;

  --tmbk-border: rgba(245,245,245,.15);
}

/* 3) Aliases scoped con especificidad 0 */
:where(.tmbk-theme) :where(.bg-bg)               { background-color: var(--tmbk-bg); }
:where(.tmbk-theme) :where(.bg-bg-light)         { background-color: var(--tmbk-bg-light); }
:where(.tmbk-theme) :where(.bg-bg-dark)          { background-color: var(--tmbk-bg-dark); }

:where(.tmbk-theme) :where(.bg-primary)          { background-color: var(--tmbk-primary); }
:where(.tmbk-theme) :where(.text-primary-fg)     { color:            var(--tmbk-primary-fg); }

:where(.tmbk-theme) :where(.text-fg)             { color:            var(--tmbk-fg); }
:where(.tmbk-theme) :where(.text-fg-light)       { color:            var(--tmbk-fg-light); }
:where(.tmbk-theme) :where(.text-fg-muted)       { color:            var(--tmbk-fg-muted); }

:where(.tmbk-theme) :where(.bg-secondary)        { background-color: var(--tmbk-secondary); }
:where(.tmbk-theme) :where(.text-secondary-fg)   { color:            var(--tmbk-secondary-fg); }

:where(.tmbk-theme) :where(.border-border)       { border-color:     var(--tmbk-border); }

/* Estados (opcionales) */
:where(.tmbk-theme) :where(.bg-success)          { background-color: var(--tmbk-success); }
:where(.tmbk-theme) :where(.text-success-fg)     { color:            var(--tmbk-success-fg); }
:where(.tmbk-theme) :where(.bg-warning)          { background-color: var(--tmbk-warning); }
:where(.tmbk-theme) :where(.text-warning-fg)     { color:            var(--tmbk-warning-fg); }
:where(.tmbk-theme) :where(.bg-info)             { background-color: var(--tmbk-info); }
:where(.tmbk-theme) :where(.text-info-fg)        { color:            var(--tmbk-info-fg); }
:where(.tmbk-theme) :where(.bg-danger)           { background-color: var(--tmbk-danger); }
:where(.tmbk-theme) :where(.text-danger-fg)      { color:            var(--tmbk-danger-fg); }

/* Ring/offset: fallback + mejora con color-mix */
:where(.tmbk-theme) :where(.ring-primary)  { --tw-ring-color: var(--tmbk-ring); }
@supports (color: color-mix(in oklab, black, white)) {
  :where(.tmbk-theme) :where(.ring-primary) {
    --tw-ring-color: color-mix(in oklab, var(--tmbk-primary) 40%, transparent);
  }
}
:where(.tmbk-theme) :where(.ring-fg)       { --tw-ring-color: var(--tmbk-fg); }
:where(.tmbk-theme) :where(.ring-offset-bg){ --tw-ring-offset-color: var(--tmbk-bg); }

/* 4) Overlay */
:where(.tmbk-theme) :where(.tmbk-modal-overlay) {
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  background: rgba(0,0,0,.6);
}


/* 5) Normaliza svg en botones/iconos (escala por font-size del contenedor) */
:where(.tmbk-theme) :where(.tmbk-icon svg) {
  width: 1em;
  height: 1em;
  display: block;      /* evita gaps por inline baseline */
  stroke: currentColor; /* si el ícono usa stroke */
  fill: currentColor;   /* si el ícono usa fill */
}